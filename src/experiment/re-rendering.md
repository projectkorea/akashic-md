

## 1. `useEffect` μμ„Έν μ•μ•„λ³΄κΈ°

```js
const [count, setCount] = useState(0);

useEffect(() => {
  console.log(count);
}, []); 
```
1. `useEffect` μ™Έλ¶€μ— μλ” ν•¨μ, λ³€μλ¥Ό μ°Έμ΅°ν•κ³  μλ” κ²½μ°μ— dependencyμ— μ¶”κ°€ν•΄μ¤μ•Ό ν•λ‚?



## 4. `setInterval` μ΄μ

### `setState(callback)`μ„ μ“°μ
- `setState(value)` λ°©μ‹μ€ κµ¬μ΅°κ°€ λ³µμ΅ν•΄μ§€κ³ , μ—¬λ¬ μ‚¬λμ΄ λ™μ‹μ— μ‚¬μ©ν•΄μ•Ό ν•λ” μƒν™©μ—μ„ λ™μ‹μ„± λ¬Έμ κ°€ μƒκΈ΄λ‹¤.
- μ΄μ „ κ°’μ„ μ°Έμ΅°ν•λ” `setState(callback)`μ„ μ‚¬μ©ν•΄μ•Ό ν•λ‹¤.

```js
const [counter, setCounter] = useState(0)
// β
useEffect(()=> {
  setInterval(()=>{
    setCounter(counter-1)
    },1000)
},[])
```

- `setCounter`μ•μ— μλ” `counter`λ” **`useEffect`μ μ½λ°±ν•¨μ**κ°€ μ‹¤ν–‰λ  λ• μ €μ¥λλ‹¤.
- `useEffect`λ” μµμ΄ **ν• λ²λ§** μ‹¤ν–‰λλ―€λ΅, `counter`λ” μ΄κΈ°κ°’μΈ 0μΌλ΅ λ³€ν•μ§€ μ•λ”λ‹¤.
- `state`λ¥Ό μ‚¬μ©ν•λ©΄ κ·Έ κ°’μ΄ κ³„μ† μ λ™μ μΌλ΅ λ³€ν•  κ±°λΌλ” λ§¤μ§μ„ κΈ°λ€ν•λ” ν΄λ¨Ό μ—λ¬μ—μ„ λ°μƒν• μ¤λ¥λ‹¤.
- `state`λ” κ·Έμ € κ°’μ΄λ©°, `setState`λ¥Ό μ΄μ©ν•΄ κ°’μ„ λ°”κΎΈλ©΄, ν•΄λ‹Ή μ»΄ν¬λ„νΈκ°€ **λ¦¬λλ”λ§** λλ‹¤λ” **κ·μΉ™**λ§ κ°–κ³  μμ„ λΏμ΄λ‹¤.
- μ¶”κ°€λ΅ `setCounter(counter-1)`λ” 1μ΄λ§λ‹¤ μ‹¤ν–‰λμ§€λ§, `state`κ°€ `counter-1`λ΅ λ³€κ²½λ ν›„λ΅λ”, `counter-1`λ” κ°’μ΄ **λ³€ν•μ§€ μ•κΈ° λ•λ¬Έμ—** λ”μ΄μƒ λλ”λ§ λμ§€ μ•λ”λ‹¤.

```js
// β…
useEffect(()=> {
  setInterval(()=>{
    setCounter((current)=>current-1)
    },1000)
},[])
```
- μ΄λ” `setState`μ λ§¤κ°λ³€μλ΅ `μ½λ°±ν•¨μ`λ¥Ό λ„£μ–΄ ν•΄κ²°ν•λ‹¤.
- μ½λ°±ν•¨μμ μ²« λ²μ§Έ μΈμλ” **μƒλ΅­κ² κ°±μ‹ λ `state`**λ¥Ό κ°€μ Έμ¤κΈ° λ•λ¬Έμ— μ΄λ¥Ό μ΄μ©ν•΄, κ°’μ„ κ³„μ†ν•΄μ„ λ°”κΏ”μ¤€λ‹¤.
- μ΄λ• `callback`μΌλ΅ μ²λ¦¬ν• `setState`λ” `denpenency`μ— **stateκ°’μ„** λ„£μ§€ μ•λ”λΌλ„ **`ESlinst` μ¤λ¥**κ°€ λ‚μ§€ μ•λ”λ‹¤.
- **κ²°λ΅ **: λ¦¬μ•΅νΈμ κΈ°λ³Έ κ³µλ¦¬λ¥Ό ν•­μƒ λ…μ‹¬ν•λ, test caseλ¥Ό μ§„ν–‰ν•λ©° μ½”λ“λ΅ μ μ©ν•΄μ•Όν•λ‹¤.



## 5. `useEffect` λ‚΄μ λ¬΄ν•λ£¨ν”„

```js
useEffect(()=>{
  setToggle(!toggle)
  // setToggle((toggle)=>!toggle)
  console.log('π¤');
},[toggle])
```
- `callback`μ΄ μ‹¤ν–‰λλ©΄, `toggle` κ°’μ„ λ°”κΎΈκ³ , `toggle` κ°’μ΄ λ°”λ€λ©΄ `callback`μ΄ μ‹¤ν–‰λλ‹¤.





## 3. κ°„λ‹¨ν• λλ”λ§ μµμ ν™”

```jsx
// β 
const [count1, setCount1] = useState(0)
const [count2, setCount2] = useState(0)
 
useEffect(()=>{
  setCount1(a)
  setCount2(b) // λ‘ λ²μ λλ”λ§ λ°μƒ
})
```
```jsx
// β… 
const [counts, setCounts] = useState({count1:0, count2:0})
 
useEffect(()=>{
  setCounts({
    count1: a,
    count2: b
  })            // λ°μ΄ν„°λ¥Ό λ¨μ•„ ν• λ²μ λλ”λ§λ§ 
})
```





### μ£Όμ! `count++`λ” κ°’μ΄ μ•„λ‹λΌ **ν‘ν„**μ΄λ‹¤!

```jsx
<button onClick={() => {setCount(count++)}}></button> //β
<button onClick={() => {setCount(count+1)}}></button> //β…
```




## 2. `useState`ν•¨μλ” λΉ„λ™κΈ°λ΅ μ²λ¦¬λλ‹¤.

- `setPrice`λ” λΉ„λ™κΈ°μ μΌλ΅ `state`λ¥Ό μ²λ¦¬ν•κΈ° λ•λ¬Έμ—, `setMoney` ν•¨μκ°€ `price`κ°’μ„ λ¶λ¬λ“¤μΌ λ•λ” μ²λ¦¬ μ „μ `state`λ¥Ό λ°›κ²λλ‹¤.


```js
// β
const [price, usePrice] = useState(0)
const [money, useMoney] = useState(0)

const onCalc =() => {
    setPrice(data.reduce((acc,cur)=>acc+cur.price*cur.num,0))
    setMoney(price-price)
}
```

```js
// β…
const onCalc =() => {
    const newPrice = data.reduce((acc,cur)=>acc+cur.price*cur.num,0)
    setPrice(newPrice)
    setMoney(money-newPrice)
}
```



## 6. μ»΄ν¬λ„νΈλ” μ–Έμ  λ¦¬λλ”λ§ λ κΉ?(λ―Έν•΄κ²°)

1. `State`κ°€ λ³€κ²½λμ—μ„ λ•
2. λ¶€λ¨ μ»΄ν¬λ„νΈκ°€ re-render λμ—μ„ λ•
3. **`Props`κ°€ λ³€κ²½λμ—μ„ λ•**  ....??

#### λ‚μ μμ „ μ‚¬κ³ μ νλ¦„
- '`props`κ°€ λ³€κ²½λΌλ„ μ»΄ν¬λ„νΈκ°€ λ¦¬λλ”λ§ λλ‹¤κ³ ?'
- 'λ¶€λ¨ μ»΄ν¬λ„νΈμ `state`κ°€ λ³€κ²½λμ–΄ λ¦¬λλ”λ§ λλ” κ³Όμ • μ¤‘μ— λ¦¬λλ”λ§ λλ”κ±° μ•„λ‹κ°€?'
- '`props`λ¥Ό μ „λ‹¬ν• κ²ƒμ€ `state`μ΄κΈ° λ•λ¬Έμ—, `state`κ°€ λ³€κ²½λλ©΄ `props`λ¥Ό μ „λ‹¬ν• ν•μ„ μ»΄ν¬λ„νΈλ„ diff μ•κ³ λ¦¬μ¦μ— μν•΄ λ¦¬λλ”λ§λλ”κ±°μ§€!'

#### ν™•μΈν•΄λ³Έ μλ»λ μμ 

```js
const App = () => {
  let a = 1;
  return (
    <>
      <button
        onClick={() => {
           a++;
          console.log(a);
        }}
      >
        λ²„νΌ
      </button>
      <SubComponent value={a}></SubComponent>
    </>
  );
};

const SubComponent = ({ value }) => {
  return <strong>{value}</strong>;
};
```

#### μμ „ κ²°λ΅ 
- ν…μ¤νΈν• λ°”μ— λ”°λ¥΄λ©΄, `State` κ°’μΌλ΅ λ„κΈ΄ `props`λ§ λ¦¬λλ”λ§ λλ‹¤.
- `APP`λ‚΄μ— μ„ μ–Έν• `a` λ³€μλ¥Ό `SubComponent`μ `props`λ΅ μ „λ‹¬ν–μ§€λ§, λ¦¬λλ”λ§μ΄ λμ§€ μ•μ•λ‹¤.

#### μλ» μ„¤κ³„λ ν…μ¤νΈ μ½”λ“
- μ»΄ν¬λ„νΈ μ•μ— μ„ μ–Έλμ–΄μμΌλ©΄, λλ”λ§λ λ•λ§λ‹¤ λ‹¤μ‹ μ„ μ–Έλλ‹¤.
- return μ΄ν›„μ— λλ”λ§ ν• JSX μ½”λ“λ” aκ°€ 0μΈ μƒνƒμ—μ„ λλ”λ§ λλ‹¤.
- λ¶€λ¨ μ»΄ν¬λ„νΈλ” λλ”λ§λμ§€ μ•μΌλ‹, λ³€μaλ” κ°’μ΄ λ°”λ€”μ§€λΌλ„ propsλ΅ μ „λ‹¬ν• κ°’μ€ λ°”λ€ κ°’μ΄ λ“¤μ–΄κ°€μ§€ μ•κ² λλ‹¤.
- μ΄ν›„μ—λ„ `setState`λ¥Ό μ΄μ©ν•΄μ„ λ¶€λ¨ μ»΄ν¬λ„νΈλ§ λλ”λ§ ν•΄λ³΄λ ¤κ³  ν–μ§€λ§, λ¶€λ¨ μ»΄ν¬λ„νΈ μ•μ— μ„ μ–Έν• `let a = 0` κΉμ§€ λ‹¤μ‹ μ„ μ–Έλμ–΄, λ°”λ€ a κ°’μ΄ μμ‹ μ»΄ν¬λ„νΈμ— λ°μλμ§€ μ•μ•λ‹¤.

#### λ‹¤μ‹ μ„¤κ³„λ ν…μ¤νΈ μ½”λ“

```js
let a = 1;

const App = () => {
  const [update, setUpdate] = useState(false);
  return (
    <>
      <button
        onClick={() => {
          a++;
          setUpdate(!update);
          console.log(a);
        }}
      >
        λ²„νΌ
      </button>
      <SubComponent value={a}></SubComponent>
    </>
  );
};

const SubComponent = ({ value }) => {
  return <strong>{value}</strong>;
};
```
- aλ” APPμ— λ…λ¦½μ μΈ μ „μ—­μ„μΉμ— μ„ μ–Έν•μ—¬, μ»΄ν¬λ„νΈκ°€ λ¦¬λλ”λ§ λλ”λΌλ„ λ‹¤μ‹ μ„ μ–Έλμ§€ μ•κ²ν•μ€λ‹¤.
- λ²„νΌ ν΄λ¦­ μ‹, μ»΄ν¬λ„νΈκ°€ λ¦¬λλ”λ§ν•κ² λ§λ“¤μ–΄, μ „μ—­λ³€μ a κ°’μ„ μ¦κ°€μ‹ν‚¨λ‹¤.
- κ·Έ κ²°κ³Ό, μ»΄ν¬λ„νΈκ°€ λ¦¬λλ”λ§ λ  λ• a κ°’μ€ μ¦κ°€ν•λ©° `state`λ΅ `props`λ¥Ό λ„κ²¨μ£Όμ§€ μ•λ”λΌλ„ μμ‹ μ»΄ν¬λ„νΈκ°€ λ¦¬λλ”λ§λλ” κ²ƒμ„ ν™•μΈν•  μ μμ—λ‹¤.
- ν•μ§€λ§ κ¶κΈν•κ±΄ `props`λ§ λ³€κ²½λλ„ μ»΄ν¬λ„νΈκ°€ λ¦¬λλ”λ§ λλ” κ°€? μ΄λ‹¤.
- μ„μ κ²½μ°λ” `2. λ¶€λ¨ μ»΄ν¬λ„νΈκ°€ re-render λμ—μ„ λ•` κ²½μ°μ— ν•΄λ‹Ήλλ‹ μ •ν™•ν• ν…μ¤νΈ μ½”λ“κ°€ μ•„λ‹λ‹¤.

#### μ¶”ν›„μ— λ‹¤μ‹ μƒκ°ν•΄λ΄μ•Όκ² λ‹¤. 
- μ§€κΈ λ‹¨κ³„μ—μ„λ” `props`λ§ λ³€κ²½λλ” μΌμ„ μ°ΎκΈ° νλ“¤λ‹¤. **μƒμ„ μ»΄ν¬λ„νΈκ°€ λ¦¬λλ”λ§**ν•λ©΄μ„ λ°”λ€ `props`μ„ μ „λ‹¬ν•λ” μμ™Έ λ§κ³ λ” μƒκ°μ΄ μ•λ‚λ‹¤.
- μ΄μ™€ κ΄€λ ¨ν•μ—¬ μΈν„°λ„· μλ£κ°€ λ§μ΄ μ—†λ” κ±° λ³΄λ‹, λ‚΄κ°€ μ΄μƒν• ν¬μΈνΈμ— κ½‚ν κ²ƒ κ°™λ‹¤.


---


